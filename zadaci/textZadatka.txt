for i:= n downto 1 do 
    begin
        k:= 0; 
        j:= 1;
        while (j <= n) do 
            begin
                k:= k + 1;
                j:= j + k;
                s:= s + i*j;
            end;
    end;